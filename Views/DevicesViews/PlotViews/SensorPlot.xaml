<UserControl x:Class="CapnoAnalyzer.Views.DevicesViews.PlotViews.SensorPlot"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:oxy="http://oxyplot.org/wpf"
             xmlns:comp="clr-namespace:CapnoAnalyzer.Views.Components"
             mc:Ignorable="d">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        
        <oxy:PlotView x:Name="Chart" Grid.Column="0"
                      Background="#F1F3FA"
                      Model="{Binding PlotModel}" 
                      HorizontalAlignment="Stretch" 
                      VerticalAlignment="Stretch" />
        
        <StackPanel Grid.Column="1" Orientation="Vertical" VerticalAlignment="Center" Margin="0,0,0,0">
            <comp:KnobControl Title="V1 / DIV" Value="{Binding YRange, Mode=TwoWay}" Minimum="0" Maximum="60" Step="0.5" StringFormat="N1" Margin="0,0,0,15"/>
            <comp:KnobControl Title="V2 / DIV" Value="{Binding Y2Range, Mode=TwoWay}" Minimum="0" Maximum="60" Step="0.5" StringFormat="N1" Margin="0,0,0,15">
                <comp:KnobControl.Style>
                    <Style TargetType="comp:KnobControl">
                        <Setter Property="Visibility" Value="Collapsed" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding HasDualYAxis, FallbackValue=False}" Value="True">
                                <Setter Property="Visibility" Value="Visible" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </comp:KnobControl.Style>
            </comp:KnobControl>
            <comp:KnobControl Title="T / DIV" Value="{Binding TimeWindowSeconds, Mode=TwoWay}" Minimum="1" Maximum="120" Step="1" StringFormat="N0" />
        </StackPanel>
    </Grid>
</UserControl>